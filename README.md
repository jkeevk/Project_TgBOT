# Курсовая работа «ТГ-чат-бот «Обучалка английскому языку»» по курсу «Базы данных»
<img src="/static/logo.jpg" width=45% /><br /><br />

Проект посвящен разработке интерактивного Telegram-бота, предназначенного для обучения пользователей английскому языку с помощью игрового формата. Бот будет заполнять базу данных общим набором слов (например, цвета, местоимения и т. д.), который будет доступен всем пользователям. В ходе работы бот будет задавать пользователю вопрос о переводе слова и предлагать 4 варианта ответа, представленных в виде кнопок. При правильном ответе бот будет подтверждать результат, а при неправильном – предлагать пользователю повторить попытку.

Кроме того, бот будет включать функции добавления и удаления слов. Пользователи смогут добавлять свои слова в базу данных, тем самым обогащая свое личное обучение. Функция удаления будет реализована индивидуально для каждого пользователя, что позволит убрать ненужные слова из их личного словаря. Важно, что новые слова, добавленные одним пользователем, не будут отображаться у других, обеспечивая персонализированный подход к обучению.

При старте работы бот будет приветствовать пользователей и предлагать начать изучение, создавая дружественную атмосферу и мотивируя к регулярной практике. Таким образом, проект направлен на создание эффективного и адаптивного инструмента для изучения английского языка, который будет интересен и полезен для каждого пользователя.


## Общая структура проекта
* **[main.py](main.py)** - основной модуль программы, который запускает бота и управляет его основной логикой. Он связывает все компоненты проекта и отвечает за обработку команд пользователей и организацию диалогов.

* **[data_base.py](data_base.py)** - модуль, предназначенный для работы с базой данных. Он включает функции для создания схемы базы данных и наполнения её данными, полученными через API. Также предоставляет методы для управления переводами и примерами слов, обеспечивая надежную основу для хранения информации.

* **[data_base_tools.py](data_base_tools.py)** - модуль, который позволяет взаимодействовать с базой данных через операции CRUD (создание, чтение, обновление и удаление). Он предоставляет функциональность для управления словами, пользователями и анализа прогресса в обучении, поддерживая индивидуальное взаимодействие с каждым пользователем.

* **[notification_scheduler.py](notification_scheduler.py)** - модуль, ответственный за управление подписками на ежедневные напоминания пользователям. Он помогает поддерживать регулярность занятий и мотивировать пользователей учить новые слова.

* **[DiagramDB.png](DiagramDB.png)** - файл со схемой таблиц базы данных. Этот визуальный ресурс помогает понять структуру базы и взаимосвязи между таблицами, что может быть полезно для дальнейшего расширения проекта.

* **[settings.ini](settings.ini)** - файл настроек для работы с API сервисами, содержащий необходимые ключи и параметры подключения для корректной интеграции с внешними ресурсами.

* **[requirements.txt](requirements.txt)** - файл зависимостей, который включает список всех библиотек и их версий, необходимых для корректной работы проекта. Это упрощает процесс настройки рабочей среды для разработчиков.

* **[README.md](README.md)** - документ, содержащий основную информацию о проекте. В нем описана функциональность, инструкции по установке, запуску и использованию бота, а также советы по взаимодействию с ним.

* **[words.txt](words.txt)** - текстовый файл, в котором хранится набор слов, используемых в обучении. Этот файл может быть обновляемым и редактируемым в процессе работы проекта, позволяя добавлять новые слова.

* **[/static/](/static/)** - каталог, содержащий вспомогательные ресурсы, такие как лого для бота и стикеры для приветственного сообщения. Эти элементы помогают создать более привлекательный и запоминающийся интерфейс для пользователей.

* Более детальная информация о классах, методах и способах взаимодействия представлена в документационных строках (docstrings) в каждом модуле, что способствует лучшему пониманию работы программы и её структуры для разработчиков и пользователей.
 
## Порядок запуска
#### Убедитесь что заполнены данные в settings.ini
1. **Запустите скрипт `data_base.py`:**
- Создаётся база данных с именем `easyenglish_db`.
- Формируются три таблицы: `words`, `users` и `words_to_users`, с установленными необходимыми связями между ними.
- Метод `load_data` построчно заполняет таблицу `words` данными. В цикле извлекается слово из файла `words.txt`, которое передаётся методу `translate_word`, использующему Yandex API для получения перевода слова. Также вызывается метод `get_example`, задействующий Free Dictionary API для получения примера использования этого слова. Все три значения (слово, перевод и пример) вносятся в соответствующие столбцы таблицы `words`: `word`, `translation`, и `definition`, пока не будут обработаны все слова. На данный момент в файле `words.txt` содержится 40 слов. Ошибки и сообщения о ходе выполнения логируются и выводятся на экран.

2. **Запустите `main.py`:**
- Основной модуль программы, который инициирует работу бота.

3. **Бот готов к работе!**

Теперь вы можете взаимодействовать с ботом для изучения английского языка.

## Основная логика работы бота:

1. **Регистрация пользователя:**
При первом запуске бот регистрирует пользователя в базе данных, записывая его уникальный идентификатор в таблицу `users`.

2. **Генерация случайных слов:**
Для каждого пользователя генерируется 10 случайных слов, которые записываются в таблицу `words_to_users`. Эти слова уникальны для каждого пользователя.

3. **Вывод слов и примеров:**
Бот отображает английское слово и пример его использования из таблицы `words_to_users`. На экране будут доступны 7 кнопок:
- 4 кнопки с вариантами перевода, из которых только один правильный;
- Кнопка "Добавить слово";
- Кнопка "Удалить слово";
- Кнопка "Пропустить".

* Количество неверных попыток не ограничено.

4. **Функции кнопок:**
- **Добавить слово:**
Эта кнопка добавляет новое случайное слово из общей таблицы `words` к текущему пользователю (в таблицу `words_to_users`). Слово не будет повторяться у текущего пользователя. При добавлении выводится статистика, показывающая количество изучаемых слов и количество изученных слов (на основании значения в столбце `learn_counter` в таблице `words_to_users`).

- **Удалить слово:**
При нажатии этой кнопки текущее слово удаляется из таблицы `words_to_users` для данного пользователя. Бот выводит соответствующее уведомление о выполнении операции.

- **Пропустить:**
Эта функция обновляет набор слов для пользователя, не изменяя при этом данные в базе. Слова, которые пользователь пропускает, не учитываются в процессе обучения.

5. **Степень изученности слова:**
Степень изученности каждого слова определяется по параметру `learn_counter`. Если значение `learn_counter` достигает 5 (пользователь правильно указывает перевод 5 раз), это слово больше не будет отображаться для изучения. Когда все слова в базе данных имеют параметр `learn_counter` равным 5, пользователю будет предложено сбросить прогресс. Сброс прогресса осуществляется путем удаления всех записей о пользователе во всех таблицах и повторной генерацией 10 случайных стартовых слов.

Теперь бот готов к помощи пользователям в изучении английского языка, предлагая интерактивный и индивидуализированный подход к обучению!
